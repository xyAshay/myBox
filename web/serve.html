<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/api/assets/css/serve.css">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="/api/assets/css/bootstrap.css">
    <link rel="stylesheet" href="/api/assets/css/serve.css">
    <title>myBox Server</title>
</head>
<body>
    <nav class="navbar navbar-expand-sm bg-transparent justify-content-center">
     <ul class="navbar-nav">
         <li><img id="brand" src="/api/assets/logo.png" alt="Logo"></li>
     </ul>   
    </nav>
    
   <div id="app" class="container">
        <div class="row h-100 justify-content-center align-items-center">
            <div class="col-md-8">
                <table class="table">
                    <thead class="thead-dark"> 
                        <th class="text-center">Name</th>
                        <th class="text-center">Size</th>
                        <th class="text-center">Action</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td><a href="javascript:history.back()" class="btn btn-outline-danger">Back</a></td>
                            <td class="text-center">
                                <div><button id="newdir" class="btn btn-outline-dark">New Dir</button></div>
                                <div id="newdirform">
                                    <form id="create"><input type="text" id="dirname" class="form-control mb-1" placeholder="Dir Name">
                                    <button class="btn btn-outline-warning" type="submit">Create</button></form>
                                </div>
                            </td>
                            <td class="text-right"><form class="inline-form" id="uploadform">
                                <label id="uploader" class="btn btn-outline-primary">Upload File<input type="file" name="target" hidden></label>
                                <div id="confirmUpload"><button class="btn btn-outline-success">Confirm</button></div>
                            </form></td>
                        </tr>
                        <tr v-for="file in files">
                            <td><a :href="'/serve/' + file.path ">{{file.name}}</a></td>
                            <td class="text-center">{{file.size}}</td>
                            <td class="text-right" v-if="file.type == 'file'"><a class="btn btn-dark" :href="'/api/download/'+file.path+'?download=true'" role="button"><i class="fa fa-download"></i></a> <button class="btn btn-danger" v-on:click="deleteFile(file.path)" role="button"><i class="fa fa-trash"></i></button> </td>
                            <td class="text-right" v-else><button class="btn btn-danger" v-on:click="deleteFile(file.path)" role="button"><i class="fa fa-trash"></i></button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
   </div>
   <footer id="sticky-footer" class="py-2 bg-dark text-white-50">
    <div class="container text-center">
      <small>Buy Me A Coffee <a href="https://github.com/xyAshay">@xyAshay</a></small>
    </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="/api/assets/js/serve.js"></script>
</body>
</html>